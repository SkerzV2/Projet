Index: src/main/java/bts/sio/projet/MenuController.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package bts.sio.projet;\r\n\r\nimport bts.sio.projet.Entities.*;\r\nimport bts.sio.projet.Tools.Services.*;\r\nimport bts.sio.projet.Tools.ConnexionBDD;\r\nimport javafx.collections.FXCollections;\r\nimport javafx.collections.ObservableList;\r\nimport javafx.event.Event;\r\nimport javafx.fxml.Initializable;\r\nimport javafx.scene.control.*;\r\nimport javafx.scene.control.cell.PropertyValueFactory;\r\nimport javafx.scene.layout.AnchorPane;\r\nimport javafx.scene.layout.VBox;\r\n\r\nimport java.io.IOException;\r\nimport java.net.URL;\r\nimport java.sql.SQLException;\r\nimport java.time.LocalDate;\r\nimport java.util.HashMap;\r\nimport java.util.ResourceBundle;\r\nimport java.util.TreeMap;\r\n\r\npublic class MenuController implements Initializable {\r\n    ConnexionBDD maCnx;\r\n    ServiceMatieres serviceMatieres;\r\n    ServiceDemandes serviceDemandes;\r\n    ServiceCompetences serviceCompetences;\r\n    ServiceSoutients serviceSoutients;\r\n    ObservableList<Demande> lesDemandes;\r\n    TreeMap<String, ObservableList<String>> lesCompetences;\r\n    ObservableList<Matiere> lesMatieres;\r\n    User user;\r\n    ObservableList lesDemandesTv;\r\n    TreeItem root;\r\n    TreeItem rootComp;\r\n\r\n    // AnchorPane ------------------------------------------------------------------------------------------------------\r\n\r\n    @javafx.fxml.FXML\r\n    private AnchorPane apFaireDemande;\r\n\r\n    @javafx.fxml.FXML\r\n    private AnchorPane apVisualiserDemandes;\r\n\r\n    @javafx.fxml.FXML\r\n    private AnchorPane apVisualiserComp;\r\n\r\n    @javafx.fxml.FXML\r\n    private AnchorPane apModifierDemande;\r\n\r\n    @javafx.fxml.FXML\r\n    private AnchorPane apVoirLesDemande;\r\n\r\n    @javafx.fxml.FXML\r\n    private AnchorPane apModificationDemande;\r\n\r\n    @javafx.fxml.FXML\r\n    private AnchorPane apEnregistrerCompetence;\r\n\r\n    @javafx.fxml.FXML\r\n    private AnchorPane apCreeSoutient;\r\n\r\n    @javafx.fxml.FXML\r\n    private AnchorPane apModificationCompetence;\r\n\r\n    @javafx.fxml.FXML\r\n    private AnchorPane apModifierComp;\r\n\r\n    // Vbox ------------------------------------------------------------------------------------------------------------\r\n\r\n    @javafx.fxml.FXML\r\n    private VBox vbxDemande;\r\n\r\n    @javafx.fxml.FXML\r\n    private VBox vbxCompetence;\r\n\r\n    @javafx.fxml.FXML\r\n    private VBox vbxSoutenir;\r\n\r\n    @javafx.fxml.FXML\r\n    private VBox vbxStatistique;\r\n\r\n    // Crée Demande ----------------------------------------------------------------------------------------------------\r\n\r\n    @javafx.fxml.FXML\r\n    private DatePicker datepFinDem;\r\n\r\n    @javafx.fxml.FXML\r\n    private TableView<Matiere> tvMatiereCreeDemande;\r\n\r\n    @javafx.fxml.FXML\r\n    private TableColumn tcMatiereCreeDemande;\r\n\r\n    @javafx.fxml.FXML\r\n    private TableView tvSousMatiereCreeDemande;\r\n\r\n    @javafx.fxml.FXML\r\n    private TableColumn tcSousMatiereCreeDemande;\r\n\r\n\r\n    // Modifier Demande ------------------------------------------------------------------------------------------------\r\n\r\n    @javafx.fxml.FXML\r\n    private TableView<Demande> tvModifDemandes;\r\n\r\n    @javafx.fxml.FXML\r\n    private TableColumn tcMatiere;\r\n\r\n    @javafx.fxml.FXML\r\n    private TableColumn tcDateDebut;\r\n\r\n    @javafx.fxml.FXML\r\n    private TableColumn tcDateFin;\r\n\r\n    @javafx.fxml.FXML\r\n    private TableColumn tcSousMatieres;\r\n\r\n    @javafx.fxml.FXML\r\n    private TableColumn tcSousMatiereModifierDemande;\r\n\r\n    @javafx.fxml.FXML\r\n    private DatePicker dpModifierDemande;\r\n\r\n    @javafx.fxml.FXML\r\n    private ComboBox cboMatiereModifierDemande;\r\n\r\n    @javafx.fxml.FXML\r\n    private TableView tvSousMatiereModifierDemande;\r\n\r\n    // Visualiser Demande ----------------------------------------------------------------------------------------------\r\n\r\n    // Crée Compétence -------------------------------------------------------------------------------------------------\r\n    @javafx.fxml.FXML\r\n    private TableColumn tcMatiereCreeCompetence;\r\n\r\n    @javafx.fxml.FXML\r\n    private TableView tvSousMatiereCreeCompetence;\r\n\r\n    @javafx.fxml.FXML\r\n    private TableColumn tcSousMatiereCreeCompetence;\r\n\r\n    @javafx.fxml.FXML\r\n    private TableView<Matiere> tvMatiereCreeCompetence;\r\n\r\n    // Visualiser Compétence -------------------------------------------------------------------------------------------\r\n\r\n    @javafx.fxml.FXML\r\n    private TreeView tvVisualiserComp;\r\n\r\n    // Modifier Compétence ---------------------------------------------------------------------------------------------\r\n\r\n    @javafx.fxml.FXML\r\n    private TableColumn tcMatiereModifierCompetence;\r\n\r\n    @javafx.fxml.FXML\r\n    private TableColumn tcSousMatiereModifierCompetence;\r\n\r\n    @javafx.fxml.FXML\r\n    private ComboBox cboMatiereModificationCompetence;\r\n\r\n    @javafx.fxml.FXML\r\n    private TableView tvSousMatiereModificationCompetence;\r\n\r\n    @javafx.fxml.FXML\r\n    private TableColumn tcSousMatiereModificationCompetence;\r\n\r\n    @javafx.fxml.FXML\r\n    private TableView<Competence> tvModifComp;\r\n\r\n    //Crée Soutient ----------------------------------------------------------------------------------------------------\r\n\r\n    @javafx.fxml.FXML\r\n    private ComboBox cboCreeSoutien;\r\n\r\n    @javafx.fxml.FXML\r\n    private DatePicker dpCreeSoutien;\r\n\r\n    @javafx.fxml.FXML\r\n    private TableView<Demande>tvCreeSoutien;\r\n\r\n    @javafx.fxml.FXML\r\n    private TableColumn tcSousMatiereCreeSoutien;\r\n\r\n    @javafx.fxml.FXML\r\n    private TextArea txtCreeSoutien;\r\n\r\n    @javafx.fxml.FXML\r\n    private TableView<Soutient> tvVisualiserAutresDemandes;\r\n\r\n    @javafx.fxml.FXML\r\n    private TableColumn tcNom;\r\n\r\n    @javafx.fxml.FXML\r\n    private TableColumn tcPrenom;\r\n\r\n    @javafx.fxml.FXML\r\n    private TableColumn tcMatiereSoutient;\r\n\r\n    @javafx.fxml.FXML\r\n    private TableColumn tcDateDebutSoutient;\r\n\r\n    @javafx.fxml.FXML\r\n    private TableColumn tcDateFinSoutient;\r\n\r\n    @javafx.fxml.FXML\r\n    private TableColumn tcSousMatiereSoutient;\r\n    @javafx.fxml.FXML\r\n    private Button btnAnnulerCreeSoutien;\r\n    @javafx.fxml.FXML\r\n    private Button btnValiderCreeSoutien;\r\n    @javafx.fxml.FXML\r\n    private Button btnModiferDemande;\r\n    @javafx.fxml.FXML\r\n    private Button BtnSupprimerDemande;\r\n    @javafx.fxml.FXML\r\n    private Button BtnModifierLaCompetence;\r\n    @javafx.fxml.FXML\r\n    private Button BtnSupprimerLaCompetence;\r\n    @javafx.fxml.FXML\r\n    private Button btnAnnulerDem;\r\n    @javafx.fxml.FXML\r\n    private Button btnValiderDem;\r\n    @javafx.fxml.FXML\r\n    private Button btnCreerDemande;\r\n    @javafx.fxml.FXML\r\n    private Button btnVoirDemande;\r\n    @javafx.fxml.FXML\r\n    private Button btnModifDemande;\r\n    @javafx.fxml.FXML\r\n    private Button btnCreeCompetence;\r\n    @javafx.fxml.FXML\r\n    private Button btnVoirComp;\r\n    @javafx.fxml.FXML\r\n    private Button btnModifComp;\r\n    @javafx.fxml.FXML\r\n    private Button btnVoirLesDemande;\r\n    @javafx.fxml.FXML\r\n    private Button btnVoirStats;\r\n    @javafx.fxml.FXML\r\n    private Button btnMenuDemande;\r\n    @javafx.fxml.FXML\r\n    private Button btnMenuCompetence;\r\n    @javafx.fxml.FXML\r\n    private Button btnMenuSoutenir;\r\n    @javafx.fxml.FXML\r\n    private Button btnMenuStatistique;\r\n    @javafx.fxml.FXML\r\n    private Button btnSoutien;\r\n    @javafx.fxml.FXML\r\n    private Button btnValiderComp;\r\n    @javafx.fxml.FXML\r\n    private Button btnAnnulerCreeComp;\r\n    @javafx.fxml.FXML\r\n    private Button BtnValiderModifier;\r\n    @javafx.fxml.FXML\r\n    private Button BtnAnnulerModifier;\r\n    @javafx.fxml.FXML\r\n    private Button btnAnnulerModificationCompetence;\r\n    @javafx.fxml.FXML\r\n    private Button btnValiderModificationCompetence;\r\n    @javafx.fxml.FXML\r\n    private TableView tvVisualiserMesDemandes;\r\n    @javafx.fxml.FXML\r\n    private TableColumn tcDateDebutDemVisualiser;\r\n    @javafx.fxml.FXML\r\n    private TableColumn tcDateFinDemandeVisualiser;\r\n    @javafx.fxml.FXML\r\n    private TableColumn tcMatiereDemandeVisualiser;\r\n    @javafx.fxml.FXML\r\n    private TableColumn tcSousMatiereDemandeVisualiser;\r\n    @javafx.fxml.FXML\r\n    private TableColumn tcStatusDemandeVisualiser;\r\n    @javafx.fxml.FXML\r\n    private Button BtnVoirHistoriqueDemande;\r\n\r\n\r\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\r\n\r\n\r\n\r\n    public void setUser(User user) {\r\n        this.user = user;\r\n    }\r\n\r\n    public void setProjetController(ProjetController projetController) {\r\n    }\r\n\r\n    public void initialize(URL url, ResourceBundle resourceBundle) {\r\n        try {\r\n            maCnx = new ConnexionBDD();\r\n            serviceMatieres = new ServiceMatieres();\r\n            serviceDemandes = new ServiceDemandes();\r\n            serviceCompetences = new ServiceCompetences();\r\n            serviceSoutients = new ServiceSoutients();\r\n            lesMatieres = FXCollections.observableArrayList();\r\n            lesMatieres.setAll(serviceMatieres.GetAllMatiereObj());\r\n            tvSousMatiereModifierDemande.getSelectionModel().setSelectionMode(SelectionMode.MULTIPLE);\r\n            apFaireDemande.toFront();\r\n\r\n            //Léo\r\n\r\n            tcDateDebut.setCellValueFactory(new PropertyValueFactory<>(\"dateDebut\"));\r\n            tcDateFin.setCellValueFactory(new PropertyValueFactory<>(\"dateFin\"));\r\n            tcMatiere.setCellValueFactory(new PropertyValueFactory<>(\"designation\"));\r\n            tcSousMatieres.setCellValueFactory(new PropertyValueFactory<>(\"sousMatiere\"));\r\n\r\n            tvSousMatiereCreeDemande.getSelectionModel().setSelectionMode(SelectionMode.MULTIPLE);\r\n            tcMatiereCreeDemande.setCellValueFactory(new PropertyValueFactory<>(\"designation\"));\r\n            tcSousMatiereCreeDemande.setCellValueFactory(new PropertyValueFactory<>(\"sousMatiere\"));\r\n\r\n            tcDateDebutDemVisualiser.setCellValueFactory(new PropertyValueFactory<>(\"dateDebut\"));\r\n            tcDateFinDemandeVisualiser.setCellValueFactory(new PropertyValueFactory<>(\"dateFin\"));\r\n            tcMatiereDemandeVisualiser.setCellValueFactory(new PropertyValueFactory<>(\"designation\"));\r\n            tcSousMatiereDemandeVisualiser.setCellValueFactory(new PropertyValueFactory<>(\"sousMatiere\"));\r\n            tcStatusDemandeVisualiser.setCellValueFactory(new PropertyValueFactory<>(\"status\"));\r\n\r\n            //Pierre\r\n            tvSousMatiereCreeCompetence.getSelectionModel().setSelectionMode(SelectionMode.MULTIPLE);\r\n            tcMatiereCreeCompetence.setCellValueFactory(new PropertyValueFactory<>(\"designation\"));\r\n            tcSousMatiereCreeCompetence.setCellValueFactory(new PropertyValueFactory<>(\"sousMatiere\"));\r\n\r\n            tcMatiereModifierCompetence.setCellValueFactory(new PropertyValueFactory<>(\"designation\"));\r\n            tcSousMatiereModifierCompetence.setCellValueFactory(new PropertyValueFactory<>(\"sousMatiere\"));\r\n\r\n            tvSousMatiereModificationCompetence.getSelectionModel().setSelectionMode(SelectionMode.MULTIPLE);\r\n            tcSousMatiereModificationCompetence.setCellValueFactory(new PropertyValueFactory<>(\"sousMatiere\"));\r\n\r\n            //Claude\r\n            tcDateDebutSoutient.setCellValueFactory(new PropertyValueFactory<>(\"dateDebut\"));\r\n            tcDateFinSoutient.setCellValueFactory(new PropertyValueFactory<>(\"dateFin\"));\r\n            tcMatiereSoutient.setCellValueFactory(new PropertyValueFactory<>(\"matiere\"));\r\n            tcSousMatiereSoutient.setCellValueFactory(new PropertyValueFactory<>(\"sousMatiere\"));\r\n            tcNom.setCellValueFactory(new PropertyValueFactory<>(\"nom\"));\r\n            tcPrenom.setCellValueFactory(new PropertyValueFactory<>(\"prenom\"));\r\n\r\n            tcSousMatiereCreeSoutien.setCellValueFactory(new PropertyValueFactory<>(\"sousMatiere\"));\r\n\r\n            root = new TreeItem(\"Mes demandes\");\r\n            rootComp = new TreeItem(\"Mes Compétences\");\r\n            tvVisualiserComp.setRoot(rootComp);\r\n\r\n        } catch (ClassNotFoundException e) {\r\n            throw new RuntimeException(e);\r\n        } catch (SQLException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n\r\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////\r\n    //                                                                                                           //\r\n    //                                                                                                          //\r\n    //                                           Partie de Léo                                                 //\r\n    //                                                                                                        //\r\n    //                                                                                                       //\r\n    //////////////////////////////////////////////////////////////////////////////////////////////////////////\r\n\r\n///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\r\n//                                           CREATION D UNE DEMANDE                                                                          //\r\n///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\r\n\r\n    // afficher l'anchor pane création demande\r\n    @javafx.fxml.FXML\r\n    public void btnCreerDemandeClicked(Event event){\r\n        tvMatiereCreeDemande.setItems(lesMatieres);\r\n        apFaireDemande.toFront();\r\n    }\r\n\r\n    // Création demande / afficher les sous matières\r\n    @javafx.fxml.FXML\r\n    public void tvMatiereCreeDemandeClicked(Event event) throws SQLException {\r\n        ObservableList<Matiere> sousMatieres = serviceMatieres.GetAllSousMatiereOBJ(tvMatiereCreeDemande.getSelectionModel().getSelectedItem().getDesignation());\r\n        tvSousMatiereCreeDemande.setItems(sousMatieres);\r\n    }\r\n\r\n    // button de valider pour la création d'une demande\r\n    @javafx.fxml.FXML\r\n    public void btnValiderDemClicked(Event event) throws SQLException {\r\n        Alert alert = new Alert(Alert.AlertType.ERROR);\r\n        String dateNow = LocalDate.now().toString();\r\n        String erreurs = \"\";\r\n\r\n        if (datepFinDem.getValue() == null)\r\n        {\r\n            erreurs += \"Veuillez sélectionner une date de fin valide (ultérieure à la date de début)\\n\";\r\n        }\r\n\r\n        if (datepFinDem.getValue() != null)\r\n        {\r\n            LocalDate debut = LocalDate.parse(dateNow);\r\n            LocalDate fin = datepFinDem.getValue();\r\n\r\n            if (debut.isAfter(fin))\r\n            {\r\n                erreurs += \"La date de fin ne peut pas être avant la date d'aujourd'hui\\n\";\r\n            }\r\n        }\r\n\r\n        if (tvMatiereCreeDemande.getSelectionModel().isEmpty())\r\n        {\r\n            erreurs += \"Veuillez sélectionner une matière\\n\";\r\n        }\r\n\r\n        if (tvSousMatiereCreeDemande.getSelectionModel().getSelectedItems().isEmpty())\r\n        {\r\n            erreurs += \"Veuillez sélectionner une ou plusieurs sous-matières\\n\";\r\n        }\r\n\r\n        if (!erreurs.isEmpty())\r\n        {\r\n            alert.setTitle(\"Erreurs de sélection\");\r\n            alert.setHeaderText(\"\");\r\n            alert.setContentText(erreurs);\r\n            alert.showAndWait();\r\n        } else\r\n        {\r\n            ObservableList<Matiere> lesSousMatiere=tvSousMatiereCreeDemande.getSelectionModel().getSelectedItems();\r\n            String dateFinDemande = datepFinDem.getValue().toString();\r\n            String nomMatiereSelectionnee = tvMatiereCreeDemande.getSelectionModel().getSelectedItem().getDesignation();\r\n            String sousmatiere =getStringObservable(lesSousMatiere) ;\r\n            int idMatiere = tvMatiereCreeDemande.getSelectionModel().getSelectedItem().getIdMatiere();\r\n\r\n\r\n            Demande uneDemande = new Demande(dateNow, dateFinDemande, sousmatiere, user.getId(), idMatiere, 1, nomMatiereSelectionnee);\r\n\r\n            serviceDemandes.creationDemande(uneDemande);\r\n            datepFinDem.setValue(null);\r\n            tvSousMatiereCreeDemande.setItems(null);\r\n            tvMatiereCreeDemande.setItems(null);\r\n            tvMatiereCreeDemande.setItems(lesMatieres);\r\n        }\r\n    }\r\n\r\n    // Bouton annuler une demande (mettre les valeurs par défaut)\r\n    @javafx.fxml.FXML\r\n    public void btnAnnulerDemClicked(Event event){\r\n        datepFinDem.setValue(null);\r\n        tvSousMatiereCreeDemande.setItems(null);\r\n        tvMatiereCreeDemande.setItems(null);\r\n        tvMatiereCreeDemande.setItems(lesMatieres);\r\n    }\r\n\r\n///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\r\n//                                           VISUALISER SES DEMANDES                                                                         //\r\n///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\r\n\r\n    // afficher l'anchor pane visualisé demande\r\n    @javafx.fxml.FXML\r\n    public void btnVoirDemandeClicked(Event event) throws SQLException\r\n    {\r\n        apVisualiserDemandes.toFront();\r\n        lesDemandes = serviceDemandes.getAllDemandes(user.getId());\r\n\r\n        for(Demande uneDemande : lesDemandes)\r\n        {\r\n            if(uneDemande.getStatus()==1 || uneDemande.getStatus()==2){\r\n                ObservableList<Demande> demandesEnAttente = FXCollections.observableArrayList();\r\n                demandesEnAttente.add(uneDemande);\r\n                tvVisualiserMesDemandes.setItems(demandesEnAttente);\r\n            }\r\n        }\r\n    }\r\n\r\n    @javafx.fxml.FXML\r\n    public void BtnVoirHistoriqueDemandeClicked(Event event) {\r\n\r\n    }\r\n\r\n\r\n///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\r\n//                                           MODIFICATION D UNE DEMANDE                                                                      //\r\n///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\r\n\r\n    // afficher l'anchor pane modification demande\r\n    @javafx.fxml.FXML\r\n    public void btnModifDemandeClicked(Event event) throws SQLException {\r\n        apModifierDemande.toFront();\r\n        lesDemandesTv = serviceDemandes.getAllDemandesTv(user.getId());\r\n        tvModifDemandes.setItems(lesDemandesTv);\r\n    }\r\n\r\n    // permet charger la view de modifer une demande\r\n    @javafx.fxml.FXML\r\n    public void btnModiferDemandeClicked(Event event) throws IOException, SQLException {\r\n        Demande demandeSelectionnee = tvModifDemandes.getSelectionModel().getSelectedItem();\r\n\r\n        if(demandeSelectionnee == null)\r\n        {\r\n            Alert alert = new Alert(Alert.AlertType.ERROR);\r\n            alert.setTitle(\"Erreur de sélection\");\r\n            alert.setContentText(\"Veuillez sélectionner une demande pour supprimer\");\r\n            alert.setHeaderText(\"\");\r\n            alert.showAndWait();\r\n        }\r\n        else\r\n        {\r\n            apModificationDemande.toFront();\r\n            ObservableList<Matiere> sousMatieres = serviceMatieres.GetAllSousMatiereOBJ(demandeSelectionnee.getDesignation());\r\n            ObservableList<String> demandeSousMatieres = getObservableSplit(demandeSelectionnee.getSousMatiere());\r\n            tvSousMatiereModifierDemande.setItems(sousMatieres);\r\n\r\n            for (String sousMatiere : demandeSousMatieres) {\r\n                for (String demandesousMatiere : demandeSousMatieres) {\r\n                    if (sousMatiere.equals(demandesousMatiere)) {\r\n                        int index = demandeSousMatieres.indexOf(sousMatiere);\r\n                        tvSousMatiereModifierDemande.getSelectionModel().select(index);\r\n                    }\r\n                }\r\n            }\r\n            dpModifierDemande.setValue(LocalDate.parse(demandeSelectionnee.getDateFin()));\r\n            cboMatiereModifierDemande.setValue(demandeSelectionnee.getDesignation());\r\n            cboMatiereModifierDemande.getSelectionModel().selectFirst();\r\n            tcSousMatiereModifierDemande.setCellValueFactory(new PropertyValueFactory<>(\"sousMatiere\"));\r\n\r\n        }\r\n    }\r\n    @javafx.fxml.FXML\r\n    public void BtnValiderModificationClicked(Event event) throws SQLException {\r\n        String sousMatiere = getStringObservable(tvSousMatiereModifierDemande.getSelectionModel().getSelectedItems());\r\n        if (sousMatiere == null) {\r\n\r\n            Alert alert = new Alert(Alert.AlertType.ERROR);\r\n            alert.setTitle(\"Erreur de sélection\");\r\n            alert.setContentText(\"Veuillez sélectionner une Sous Matiere\");\r\n            alert.setHeaderText(\"\");\r\n            alert.showAndWait();\r\n\r\n        } else {\r\n            String dateUpdate = LocalDate.now().toString();\r\n            String dateFin = dpModifierDemande.getValue().toString();\r\n\r\n            int idDemande = tvModifDemandes.getSelectionModel().getSelectedItem().getIdDemande();\r\n\r\n            serviceDemandes.modifDemande(user.getId(), dateUpdate, dateFin, sousMatiere, idDemande);\r\n            apModifierDemande.toFront();\r\n        }\r\n    }\r\n\r\n    // Je peux supprimer une demande uniquement si il y a pas de soutient en cours\r\n    @javafx.fxml.FXML\r\n    public void BtnSupprimerDemandeClicked(Event event) throws SQLException {\r\n        Demande demandeSelectionnee = (Demande) tvModifDemandes.getSelectionModel().getSelectedItem();\r\n            Alert alert = new Alert(Alert.AlertType.ERROR);\r\n        if (demandeSelectionnee == null) {\r\n            alert.setTitle(\"Erreur de sélection\");\r\n            alert.setContentText(\"Veuillez sélectionner une demande pour supprimer\");\r\n            alert.setHeaderText(\"\");\r\n            alert.showAndWait();\r\n        } else {\r\n            if (demandeSelectionnee != null) {\r\n                lesDemandesTv = serviceDemandes.getAllDemandesTv(user.getId());\r\n                tcDateDebut.setCellValueFactory(new PropertyValueFactory<>(\"dateDebut\"));\r\n                tcDateFin.setCellValueFactory(new PropertyValueFactory<>(\"dateFin\"));\r\n                tcMatiere.setCellValueFactory(new PropertyValueFactory<>(\"designation\"));\r\n                tcSousMatieres.setCellValueFactory(new PropertyValueFactory<>(\"sousMatiere\"));\r\n                tvModifDemandes.setItems(lesDemandesTv);\r\n                boolean retour=serviceDemandes.supprimerDemande(demandeSelectionnee.getIdDemande());\r\n                if (retour==true){\r\n                    alert.setTitle(\"Erreur de suppréssion\");\r\n                    alert.setContentText(\"Vous avez déja un soutien en cours \");\r\n                    alert.setHeaderText(\"\");\r\n                    alert.showAndWait();\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////\r\n    //                                                                                                           //\r\n    //                                                                                                          //\r\n    //                                           Partie de Pierre                                              //\r\n    //                                                                                                        //\r\n    //                                                                                                       //\r\n    //////////////////////////////////////////////////////////////////////////////////////////////////////////\r\n\r\n///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\r\n//                                           CREATION D UNE COMPETENCE                                                                       //\r\n///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\r\n\r\n    @javafx.fxml.FXML\r\n    public void btnCreeCompetenceClicked(Event event) {\r\n        tvSousMatiereCreeCompetence.setItems(null);\r\n        tvMatiereCreeCompetence.setItems(null);\r\n        tvMatiereCreeCompetence.setItems(lesMatieres);\r\n        apEnregistrerCompetence.toFront();\r\n    }\r\n    @javafx.fxml.FXML\r\n    public void tvMatiereCreeCompetenceClicked(Event event) throws SQLException {\r\n        tvSousMatiereCreeCompetence.setItems(serviceMatieres.GetAllSousMatiereOBJ(tvMatiereCreeCompetence.getSelectionModel().getSelectedItem().getDesignation()));\r\n    }\r\n    @javafx.fxml.FXML\r\n    public void btnAnnulerCreeCompClicked(Event event)\r\n    {\r\n        tvSousMatiereCreeCompetence.setItems(null);\r\n        tvMatiereCreeCompetence.setItems(null);\r\n        tvMatiereCreeCompetence.setItems(lesMatieres);\r\n        apEnregistrerCompetence.toFront();\r\n    }\r\n\r\n    @javafx.fxml.FXML\r\n    public void btnValiderCompClicked(Event event) throws SQLException {\r\n        apEnregistrerCompetence.toFront();\r\n\r\n        Alert alert = new Alert(Alert.AlertType.ERROR);\r\n        if (tvMatiereCreeCompetence.getSelectionModel().getSelectedItems().isEmpty()) {\r\n            alert.setTitle(\"Erreur de sélection\");\r\n            alert.setContentText(\"Veuillez sélectionner une compétence principale\");\r\n            alert.setHeaderText(\"\");\r\n            alert.showAndWait();\r\n        } else if (tvSousMatiereCreeCompetence.getSelectionModel().getSelectedItems().isEmpty()) {\r\n            alert.setTitle(\"Erreur de sélection\");\r\n            alert.setContentText(\"Veuillez sélectionner une compétence secondaire\");\r\n            alert.setHeaderText(\"\");\r\n            alert.showAndWait();\r\n        } else {\r\n            String matiere = getStringObservable(tvMatiereCreeCompetence.getSelectionModel().getSelectedItems());\r\n            String sousMatiere = getStringObservable(tvSousMatiereCreeCompetence.getSelectionModel().getSelectedItems());\r\n            int idMatiere= tvMatiereCreeCompetence.getSelectionModel().getSelectedItem().getIdMatiere();\r\n            // Créer la compétence\r\n            Competence uneCompetence = new Competence(matiere, sousMatiere, user.getId(),idMatiere);\r\n            boolean retour=serviceCompetences.creationCompetence(uneCompetence);\r\n            if (retour==true){\r\n                alert.setTitle(\"Erreur d'enregistrement\");\r\n                alert.setContentText(\"Vous avez déja une compétence pour cette matière \\n\" +\r\n                        \"veuillez vous rediriger vers modifier compétences \");\r\n                alert.setHeaderText(\"\");\r\n                alert.showAndWait();\r\n            }else{\r\n                tvMatiereCreeCompetence.setItems(null);\r\n                tvSousMatiereCreeCompetence.setItems(null);\r\n                tvMatiereCreeCompetence.setItems(lesMatieres);\r\n                apEnregistrerCompetence.toFront();\r\n            }\r\n\r\n        }\r\n\r\n    }\r\n\r\n///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\r\n//                                           VISUALISER LES COMPETENCES                                                                      //\r\n///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\r\n\r\n\r\n    @javafx.fxml.FXML\r\n    public void btnVoirCompClicked(Event event) throws SQLException {\r\n        apVisualiserComp.toFront();\r\n        lesCompetences = serviceCompetences.getAllCompetences(user.getId());\r\n\r\n        RemplirTreeViewSesCompetences();\r\n    }\r\n\r\n    public void RemplirTreeViewSesCompetences()\r\n    {\r\n        rootComp.getChildren().clear();\r\n        tvVisualiserComp.getRoot().getChildren().clear();\r\n\r\n        for (String nomMatiere : lesCompetences.keySet())\r\n        {\r\n            TreeItem noeudMatiere = new TreeItem(nomMatiere);\r\n            for (String sousMatiere : lesCompetences.get(nomMatiere))\r\n            {\r\n                String[] splitSousMatiere = sousMatiere.split(\"#\");\r\n                for (String item : splitSousMatiere)\r\n                {\r\n                    if (!item.isEmpty())\r\n                    {\r\n                        TreeItem noeudSousMatiere = new TreeItem(item);\r\n                        noeudMatiere.getChildren().add(noeudSousMatiere);\r\n                    }\r\n                }\r\n            }\r\n            rootComp.getChildren().add(noeudMatiere);\r\n            rootComp.setExpanded(true);\r\n        }\r\n        tvVisualiserComp.setRoot(rootComp);\r\n    }\r\n\r\n///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\r\n//                                           MODIFICATION D UNE COMPETENCE                                                                   //\r\n///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\r\n\r\n    @javafx.fxml.FXML\r\n    public void btnModifCompClicked(Event event) throws SQLException {\r\n        refreshTv(tvModifComp,serviceCompetences.getAllCompetenceObj(user.getId()));\r\n        apModifierComp.toFront();\r\n    }\r\n    @javafx.fxml.FXML\r\n    public void BtnModifierLaCompetenceClicked(Event event) throws SQLException {\r\n        ObservableList<Matiere> sousMatieres = serviceMatieres.GetAllSousMatiereOBJ(tvModifComp.getSelectionModel().getSelectedItem().getDesignation());\r\n        ObservableList<String> demandeSousMatieres = getObservableSplit(tvModifComp.getSelectionModel().getSelectedItem().getSousMatiere());\r\n        refreshTv(tvSousMatiereModificationCompetence,sousMatieres);\r\n        for (String sousMatiere : demandeSousMatieres) {\r\n            for (String demandesousMatiere : demandeSousMatieres) {\r\n                if (sousMatiere.equals(demandesousMatiere)) {\r\n                    int index = demandeSousMatieres.indexOf(sousMatiere);\r\n                    tvSousMatiereModificationCompetence.getSelectionModel().select(index);\r\n                }\r\n            }\r\n        }\r\n        cboMatiereModificationCompetence.setValue(tvModifComp.getSelectionModel().getSelectedItem().getDesignation());\r\n        apModificationCompetence.toFront();\r\n    }\r\n    @javafx.fxml.FXML\r\n    public void BtnSupprimerLaCompetenceClicked(Event event) throws SQLException {\r\n        serviceCompetences.supprimerCompetence(tvModifComp.getSelectionModel().getSelectedItem().getIdCompetence());\r\n        refreshTv(tvModifComp,serviceCompetences.getAllCompetenceObj(user.getId()));\r\n    }\r\n\r\n    @javafx.fxml.FXML\r\n    public void btnAnnulerModificationCompetenceClicked(Event event) throws SQLException {\r\n        tvModifComp.setItems(null);\r\n        refreshTv(tvModifComp,serviceCompetences.getAllCompetenceObj(user.getId()));\r\n    }\r\n\r\n    @javafx.fxml.FXML\r\n    public void btnValiderModificationCompetenceCllicked(Event event) throws SQLException {\r\n        Competence laCompetence =tvModifComp.getSelectionModel().getSelectedItem();\r\n        String lesSousMatieres=getStringObservable(tvSousMatiereModificationCompetence.getSelectionModel().getSelectedItems());\r\n        serviceCompetences.updateCompetence(laCompetence.getIdCompetence(),lesSousMatieres);\r\n    }\r\n\r\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////\r\n    //                                                                                                           //\r\n    //                                                                                                          //\r\n    //                                           Partie de Claude                                              //\r\n    //                                                                                                        //\r\n    //                                                                                                       //\r\n    //////////////////////////////////////////////////////////////////////////////////////////////////////////\r\n\r\n///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\r\n//                                           CREATION D UN SOUTIENT                                                                          //\r\n///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\r\n\r\n    @javafx.fxml.FXML\r\n    public void btnVoirLesDemandeClicked(Event event) throws SQLException {\r\n        apVoirLesDemande.toFront();\r\n        ObservableList<Soutient> lesAutresDemandesTv = serviceSoutients.getAllDemandesTv(user.getId());\r\n        refreshTv(tvVisualiserAutresDemandes,lesAutresDemandesTv);\r\n    }\r\n\r\n    @javafx.fxml.FXML\r\n    public void btnSoutienClicked(Event event) throws IOException, SQLException {\r\n        Soutient demandeSelectionnee = tvVisualiserAutresDemandes.getSelectionModel().getSelectedItem();\r\n\r\n        if(demandeSelectionnee == null)\r\n        {\r\n            Alert alert = new Alert(Alert.AlertType.ERROR);\r\n            alert.setTitle(\"Erreur de sélection\");\r\n            alert.setContentText(\"Veuillez sélectionner une demande pour effectuer un soutient\");\r\n            alert.setHeaderText(\"\");\r\n            alert.showAndWait();\r\n        }\r\n        else\r\n        {\r\n            apCreeSoutient.toFront();\r\n            tvCreeSoutien.setItems(serviceDemandes.getAllSousMatieresDemande(demandeSelectionnee.getIdDemande()));\r\n            cboCreeSoutien.setValue(demandeSelectionnee.getMatiere());\r\n            cboCreeSoutien.getSelectionModel().selectFirst();\r\n        }\r\n    }\r\n\r\n    @javafx.fxml.FXML\r\n    public void btnValiderCreeSoutienClicked(Event event) throws SQLException {\r\n        Soutient laDemandeSoutient= tvVisualiserAutresDemandes.getSelectionModel().getSelectedItem();\r\n        String dateNow = LocalDate.now().toString();\r\n        String erreurs=\"\";\r\n        Alert alert = new Alert(Alert.AlertType.WARNING);\r\n        if (txtCreeSoutien.getText().isEmpty()) {\r\n            erreurs += \"La description est obligatoire\";\r\n        }\r\n        if (dpCreeSoutien.getValue() != null)\r\n        {\r\n            LocalDate now = LocalDate.now();\r\n            LocalDate date = dpCreeSoutien.getValue();\r\n            LocalDate max = LocalDate.parse(laDemandeSoutient.getDateFin());\r\n\r\n            if (now.isAfter(date))\r\n            {\r\n                erreurs += \"La date du soutien ne peut pas être avant la date de debut\\n\";\r\n            }\r\n            if(date.isAfter(max)){\r\n                erreurs += \"La date du soutien ne peut pas être après la date de fin\\n\";\r\n            }\r\n        }\r\n        if (!erreurs.isEmpty())\r\n        {\r\n            alert.setTitle(\"Erreurs de sélection\");\r\n            alert.setHeaderText(\"\");\r\n            alert.setContentText(erreurs);\r\n            alert.showAndWait();\r\n        }else {\r\n            serviceSoutients.CreeSoutient(laDemandeSoutient.getIdDemande(), laDemandeSoutient.getIdCompetence(), dpCreeSoutien.getValue().toString(), dateNow, txtCreeSoutien.getText(), laDemandeSoutient.getStatus());\r\n            apVoirLesDemande.toFront();\r\n            dpCreeSoutien.setValue(null);\r\n            tvCreeSoutien.setItems(null);\r\n            ObservableList<Soutient> lesAutresDemandesTv = serviceSoutients.getAllDemandesTv(user.getId());\r\n            refreshTv(tvVisualiserAutresDemandes,lesAutresDemandesTv);\r\n        }\r\n    }\r\n    @javafx.fxml.FXML\r\n    public void btnAnnulerCreeSoutienClicked(Event event) throws SQLException {\r\n        apVoirLesDemande.toFront();\r\n        dpCreeSoutien.setValue(null);\r\n        tvCreeSoutien.setItems(null);\r\n        ObservableList<Soutient> lesAutresDemandesTv = serviceSoutients.getAllDemandesTv(user.getId());\r\n        refreshTv(tvVisualiserAutresDemandes,lesAutresDemandesTv);\r\n    }\r\n\r\n///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\r\n//                                           VOIR STATISTIQUES                                                                               //\r\n///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\r\n\r\n    @javafx.fxml.FXML\r\n    public void btnVoirStatsClicked(Event event) {\r\n    }\r\n\r\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////\r\n    //                                                                                                           //\r\n    //                                                                                                          //\r\n    //                                           Fonction en commun                                            //\r\n    //                                                                                                        //\r\n    //                                                                                                       //\r\n    //////////////////////////////////////////////////////////////////////////////////////////////////////////\r\n\r\n    public String getStringObservable(ObservableList<Matiere> leSousMatieres) {\r\n        String result = \"\";\r\n        for (Matiere uneSousMatiere : leSousMatieres) {\r\n            result += \"#\"+uneSousMatiere.getSousMatiere();\r\n        }\r\n\r\n        return result;\r\n    }\r\n    public ObservableList<String> getObservableSplit(String sousMatiere){\r\n        ObservableList<String> leSousMatieres = FXCollections.observableArrayList();\r\n        String[] splitSousMatiere = sousMatiere.split(\"#\");\r\n        for (String uneSousMatiere : splitSousMatiere)\r\n        {\r\n            if (!uneSousMatiere.isEmpty())\r\n            {\r\n                leSousMatieres.add(uneSousMatiere);\r\n            }\r\n        }\r\n        return leSousMatieres;\r\n    }\r\n\r\n    @javafx.fxml.FXML\r\n    public void btnMenuDemandeClicked(Event event) {\r\n        vbxDemande.toFront();\r\n    }\r\n\r\n    @javafx.fxml.FXML\r\n    public void btnMenuCompetenceClicked(Event event) {\r\n        vbxCompetence.toFront();\r\n    }\r\n\r\n    @javafx.fxml.FXML\r\n    public void btnMenuSoutenirClicked(Event event) {\r\n        vbxSoutenir.toFront();\r\n    }\r\n\r\n    @javafx.fxml.FXML\r\n    public void btnMenuStatistiqueClicked(Event event) {\r\n        vbxStatistique.toFront();\r\n    }\r\n    public void refreshTv(TableView tv,ObservableList o){\r\n        tv.setItems(null);\r\n        tv.setItems(o);\r\n    }\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/main/java/bts/sio/projet/MenuController.java b/src/main/java/bts/sio/projet/MenuController.java
--- a/src/main/java/bts/sio/projet/MenuController.java	(revision a1384eaf574aab4dc787fb91f0a0e20a44d14e05)
+++ b/src/main/java/bts/sio/projet/MenuController.java	(date 1702735020691)
@@ -449,13 +449,15 @@
     {
         apVisualiserDemandes.toFront();
         lesDemandes = serviceDemandes.getAllDemandes(user.getId());
-
         for(Demande uneDemande : lesDemandes)
         {
             if(uneDemande.getStatus()==1 || uneDemande.getStatus()==2){
                 ObservableList<Demande> demandesEnAttente = FXCollections.observableArrayList();
                 demandesEnAttente.add(uneDemande);
+                System.out.println(demandesEnAttente);
+
                 tvVisualiserMesDemandes.setItems(demandesEnAttente);
+
             }
         }
     }
Index: .idea/workspace.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<project version=\"4\">\r\n  <component name=\"AutoImportSettings\">\r\n    <option name=\"autoReloadType\" value=\"SELECTIVE\" />\r\n  </component>\r\n  <component name=\"ChangeListManager\">\r\n    <list default=\"true\" id=\"5e0df46b-d5d5-4065-ad47-b540f555f57e\" name=\"Changes\" comment=\"css modifier refonte integrale.\">\r\n      <change beforePath=\"$PROJECT_DIR$/.idea/workspace.xml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/.idea/workspace.xml\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/src/main/java/bts/sio/projet/Entities/Demande.java\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/src/main/java/bts/sio/projet/Entities/Demande.java\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/src/main/java/bts/sio/projet/MenuController.java\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/src/main/java/bts/sio/projet/MenuController.java\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/src/main/java/bts/sio/projet/ProjetController.java\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/src/main/java/bts/sio/projet/ProjetController.java\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/src/main/java/bts/sio/projet/Tools/Services/ServiceDemandes.java\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/src/main/java/bts/sio/projet/Tools/Services/ServiceDemandes.java\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/src/main/java/bts/sio/projet/Tools/Services/ServiceUsers.java\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/src/main/java/bts/sio/projet/Tools/Services/ServiceUsers.java\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/src/main/resources/bts/sio/projet/menu-view.fxml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/src/main/resources/bts/sio/projet/menu-view.fxml\" afterDir=\"false\" />\r\n    </list>\r\n    <option name=\"SHOW_DIALOG\" value=\"false\" />\r\n    <option name=\"HIGHLIGHT_CONFLICTS\" value=\"true\" />\r\n    <option name=\"HIGHLIGHT_NON_ACTIVE_CHANGELIST\" value=\"false\" />\r\n    <option name=\"LAST_RESOLUTION\" value=\"IGNORE\" />\r\n  </component>\r\n  <component name=\"FileTemplateManagerImpl\">\r\n    <option name=\"RECENT_TEMPLATES\">\r\n      <list>\r\n        <option value=\"FxmlFile\" />\r\n        <option value=\"Class\" />\r\n      </list>\r\n    </option>\r\n  </component>\r\n  <component name=\"Git.Settings\">\r\n    <option name=\"RECENT_BRANCH_BY_REPOSITORY\">\r\n      <map>\r\n        <entry key=\"$PROJECT_DIR$\" value=\"master\" />\r\n      </map>\r\n    </option>\r\n    <option name=\"RECENT_GIT_ROOT_PATH\" value=\"$PROJECT_DIR$\" />\r\n  </component>\r\n  <component name=\"GitHubPullRequestSearchHistory\">{\r\n  &quot;lastFilter&quot;: {\r\n  }\r\n}</component>\r\n  <component name=\"GithubPullRequestsUISettings\">\r\n    <option name=\"selectedUrlAndAccountId\">\r\n      <UrlAndAccount>\r\n        <option name=\"accountId\" value=\"77cf1fc6-e39e-4c73-a8bb-fafbfd35098d\" />\r\n        <option name=\"url\" value=\"https://github.com/SkerzV2/Projet.git\" />\r\n      </UrlAndAccount>\r\n    </option>\r\n  </component>\r\n  <component name=\"ProblemsViewState\">\r\n    <option name=\"selectedTabId\" value=\"CurrentFile\" />\r\n  </component>\r\n  <component name=\"ProjectColorInfo\">{\r\n  &quot;associatedIndex&quot;: 5\r\n}</component>\r\n  <component name=\"ProjectId\" id=\"2X2uZxajBOAHTB5SFEp6esz9rvo\" />\r\n  <component name=\"ProjectLevelVcsManager\" settingsEditedManually=\"true\">\r\n    <ConfirmationsSetting value=\"2\" id=\"Add\" />\r\n  </component>\r\n  <component name=\"ProjectViewState\">\r\n    <option name=\"hideEmptyMiddlePackages\" value=\"true\" />\r\n    <option name=\"showLibraryContents\" value=\"true\" />\r\n  </component>\r\n  <component name=\"PropertiesComponent\">{\r\n  &quot;keyToString&quot;: {\r\n    &quot;ASKED_ADD_EXTERNAL_FILES&quot;: &quot;true&quot;,\r\n    &quot;RunOnceActivity.OpenProjectViewOnStart&quot;: &quot;true&quot;,\r\n    &quot;RunOnceActivity.ShowReadmeOnStart&quot;: &quot;true&quot;,\r\n    &quot;SHARE_PROJECT_CONFIGURATION_FILES&quot;: &quot;true&quot;,\r\n    &quot;git-widget-placeholder&quot;: &quot;master&quot;,\r\n    &quot;last_opened_file_path&quot;: &quot;C:/Sio2/buftteau/Projet/src/main/resources/image&quot;,\r\n    &quot;project.structure.last.edited&quot;: &quot;Modules&quot;,\r\n    &quot;project.structure.proportion&quot;: &quot;0.15&quot;,\r\n    &quot;project.structure.side.proportion&quot;: &quot;0.2&quot;,\r\n    &quot;settings.editor.selected.configurable&quot;: &quot;preferences.pluginManager&quot;\r\n  }\r\n}</component>\r\n  <component name=\"RecentsManager\">\r\n    <key name=\"CopyFile.RECENT_KEYS\">\r\n      <recent name=\"C:\\Sio2\\buftteau\\Projet\\src\\main\\resources\\image\" />\r\n      <recent name=\"C:\\Sio2\\Projet\\Projet\\src\\main\\java\\bts\\sio\\projet\" />\r\n    </key>\r\n    <key name=\"MoveClassesOrPackagesDialog.RECENTS_KEY\">\r\n      <recent name=\"bts.sio.projet\" />\r\n    </key>\r\n  </component>\r\n  <component name=\"RunManager\">\r\n    <configuration name=\"Unnamed\" type=\"Application\" factoryName=\"Application\" nameIsGenerated=\"true\">\r\n      <option name=\"MAIN_CLASS_NAME\" value=\"bts.sio.projet.ProjetApplication\" />\r\n      <module name=\"Projeet\" />\r\n      <method v=\"2\">\r\n        <option name=\"Make\" enabled=\"true\" />\r\n      </method>\r\n    </configuration>\r\n  </component>\r\n  <component name=\"SpellCheckerSettings\" RuntimeDictionaries=\"0\" Folders=\"0\" CustomDictionaries=\"0\" DefaultDictionary=\"application-level\" UseSingleDictionary=\"true\" transferred=\"true\" />\r\n  <component name=\"TaskManager\">\r\n    <task active=\"true\" id=\"Default\" summary=\"Default task\">\r\n      <changelist id=\"5e0df46b-d5d5-4065-ad47-b540f555f57e\" name=\"Changes\" comment=\"\" />\r\n      <created>1697838553264</created>\r\n      <option name=\"number\" value=\"Default\" />\r\n      <option name=\"presentableId\" value=\"Default\" />\r\n      <updated>1697838553264</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00001\" summary=\"Base du Projet\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1697900989169</created>\r\n      <option name=\"number\" value=\"00001\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00001\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1697900989169</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00002\" summary=\"modif de merde\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1697902283582</created>\r\n      <option name=\"number\" value=\"00002\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00002\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1697902283582</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00003\" summary=\"modif de merde\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1697902357708</created>\r\n      <option name=\"number\" value=\"00003\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00003\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1697902357708</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00004\" summary=\"Connexion sensser marcher\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1697973554479</created>\r\n      <option name=\"number\" value=\"00004\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00004\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1697973554479</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00005\" summary=\"Connexion sensser marcher\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1698070412097</created>\r\n      <option name=\"number\" value=\"00005\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00005\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1698070412097</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00006\" summary=\"Connexion sensser marcher\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1698070810876</created>\r\n      <option name=\"number\" value=\"00006\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00006\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1698070810876</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00007\" summary=\"test commit label\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1698071472162</created>\r\n      <option name=\"number\" value=\"00007\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00007\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1698071472163</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00008\" summary=\"test commit label\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1698236175162</created>\r\n      <option name=\"number\" value=\"00008\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00008\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1698236175162</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00009\" summary=\"modif objet connexion et optimization alerte leo\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1698245494477</created>\r\n      <option name=\"number\" value=\"00009\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00009\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1698245494477</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00010\" summary=\"Connexion fini 100%\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1698246685503</created>\r\n      <option name=\"number\" value=\"00010\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00010\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1698246685503</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00011\" summary=\"Connexion fini 100%\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1698246826211</created>\r\n      <option name=\"number\" value=\"00011\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00011\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1698246826211</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00012\" summary=\"connexion fini\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1698327655955</created>\r\n      <option name=\"number\" value=\"00012\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00012\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1698327655955</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00013\" summary=\"test claude\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1698355222027</created>\r\n      <option name=\"number\" value=\"00013\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00013\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1698355222027</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00014\" summary=\"la création d'une demande marche mais pas encore la requete\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1698357013361</created>\r\n      <option name=\"number\" value=\"00014\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00014\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1698357013361</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00015\" summary=\"Les demandes marchent et debut de visualiser\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1698363190656</created>\r\n      <option name=\"number\" value=\"00015\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00015\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1698363190656</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00016\" summary=\"visualiser les demandes pour les modif avec la view fonctionne, il reste juste a les modif dans la bdd\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1698590140909</created>\r\n      <option name=\"number\" value=\"00016\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00016\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1698590140909</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00017\" summary=\"Ma partie demande est terminé, il reste quelques opti et modif a faire\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1698769095853</created>\r\n      <option name=\"number\" value=\"00017\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00017\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1698769095853</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00018\" summary=\"pour faire une demande la date de début est mis par défaut a la date d'aujourd'hui\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1698936856955</created>\r\n      <option name=\"number\" value=\"00018\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00018\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1698936856956</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00019\" summary=\"pour modifier la date de début est mis par défaut à la date d'aujourd'ui\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1699454506119</created>\r\n      <option name=\"number\" value=\"00019\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00019\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1699454506119</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00020\" summary=\"pour modifier la date de début est mis par défaut à la date d'aujourd'ui\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1700468813213</created>\r\n      <option name=\"number\" value=\"00020\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00020\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1700468813213</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00021\" summary=\"Affiche les autre demande de soutient -2 marche parfaitement!\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1701303711474</created>\r\n      <option name=\"number\" value=\"00021\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00021\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1701303711474</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00022\" summary=\"Affiche les autre demande de soutient -2 marche parfaitement!&#10;Fixer!!!!!\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1701808143769</created>\r\n      <option name=\"number\" value=\"00022\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00022\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1701808143769</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00023\" summary=\"Crée un soutien marche!\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1702068292909</created>\r\n      <option name=\"number\" value=\"00023\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00023\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1702068292909</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00024\" summary=\"css modifier refonte de modifier demande et refonte d'ajouter demande.\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1702140254378</created>\r\n      <option name=\"number\" value=\"00024\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00024\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1702140254378</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00025\" summary=\"css modifier refonte integrale.\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1702214251552</created>\r\n      <option name=\"number\" value=\"00025\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00025\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1702214251552</updated>\r\n    </task>\r\n    <option name=\"localTasksCounter\" value=\"26\" />\r\n    <servers />\r\n  </component>\r\n  <component name=\"Vcs.Log.Tabs.Properties\">\r\n    <option name=\"TAB_STATES\">\r\n      <map>\r\n        <entry key=\"MAIN\">\r\n          <value>\r\n            <State />\r\n          </value>\r\n        </entry>\r\n      </map>\r\n    </option>\r\n  </component>\r\n  <component name=\"VcsManagerConfiguration\">\r\n    <option name=\"ADD_EXTERNAL_FILES_SILENTLY\" value=\"true\" />\r\n    <MESSAGE value=\"Base du Projet\" />\r\n    <MESSAGE value=\"modif de merde\" />\r\n    <MESSAGE value=\"Connexion sensser marcher\" />\r\n    <MESSAGE value=\"test commit label\" />\r\n    <MESSAGE value=\"modif objet connexion et optimization alerte leo\" />\r\n    <MESSAGE value=\"Connexion fini 100%\" />\r\n    <MESSAGE value=\"connexion fini\" />\r\n    <MESSAGE value=\"test claude\" />\r\n    <MESSAGE value=\"la création d'une demande marche mais pas encore la requete\" />\r\n    <MESSAGE value=\"Les demandes marchent et debut de visualiser\" />\r\n    <MESSAGE value=\"visualiser les demandes pour les modif avec la view fonctionne, il reste juste a les modif dans la bdd\" />\r\n    <MESSAGE value=\"Ma partie demande est terminé, il reste quelques opti et modif a faire\" />\r\n    <MESSAGE value=\"pour faire une demande la date de début est mis par défaut a la date d'aujourd'hui\" />\r\n    <MESSAGE value=\"pour modifier la date de début est mis par défaut à la date d'aujourd'ui\" />\r\n    <MESSAGE value=\"Affiche les autre demande de soutient -2 marche parfaitement!\" />\r\n    <MESSAGE value=\"Affiche les autre demande de soutient -2 marche parfaitement!&#10;Fixer!!!!!\" />\r\n    <MESSAGE value=\"Crée un soutien marche!\" />\r\n    <MESSAGE value=\"css modifier refonte de modifier demande et refonte d'ajouter demande.\" />\r\n    <MESSAGE value=\"css modifier refonte integrale.\" />\r\n    <option name=\"LAST_COMMIT_MESSAGE\" value=\"css modifier refonte integrale.\" />\r\n  </component>\r\n  <component name=\"XDebuggerManager\">\r\n    <breakpoint-manager>\r\n      <breakpoints>\r\n        <breakpoint enabled=\"true\" type=\"java-exception\">\r\n          <properties class=\"java.lang.RuntimeException\" package=\"java.lang\" />\r\n          <option name=\"timeStamp\" value=\"1\" />\r\n        </breakpoint>\r\n        <breakpoint enabled=\"true\" type=\"java-exception\">\r\n          <properties class=\"java.sql.SQLException\" package=\"java.sql\" />\r\n          <option name=\"timeStamp\" value=\"4\" />\r\n        </breakpoint>\r\n      </breakpoints>\r\n    </breakpoint-manager>\r\n  </component>\r\n</project>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/.idea/workspace.xml b/.idea/workspace.xml
--- a/.idea/workspace.xml	(revision a1384eaf574aab4dc787fb91f0a0e20a44d14e05)
+++ b/.idea/workspace.xml	(date 1702735020852)
@@ -5,13 +5,7 @@
   </component>
   <component name="ChangeListManager">
     <list default="true" id="5e0df46b-d5d5-4065-ad47-b540f555f57e" name="Changes" comment="css modifier refonte integrale.">
-      <change beforePath="$PROJECT_DIR$/.idea/workspace.xml" beforeDir="false" afterPath="$PROJECT_DIR$/.idea/workspace.xml" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/src/main/java/bts/sio/projet/Entities/Demande.java" beforeDir="false" afterPath="$PROJECT_DIR$/src/main/java/bts/sio/projet/Entities/Demande.java" afterDir="false" />
       <change beforePath="$PROJECT_DIR$/src/main/java/bts/sio/projet/MenuController.java" beforeDir="false" afterPath="$PROJECT_DIR$/src/main/java/bts/sio/projet/MenuController.java" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/src/main/java/bts/sio/projet/ProjetController.java" beforeDir="false" afterPath="$PROJECT_DIR$/src/main/java/bts/sio/projet/ProjetController.java" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/src/main/java/bts/sio/projet/Tools/Services/ServiceDemandes.java" beforeDir="false" afterPath="$PROJECT_DIR$/src/main/java/bts/sio/projet/Tools/Services/ServiceDemandes.java" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/src/main/java/bts/sio/projet/Tools/Services/ServiceUsers.java" beforeDir="false" afterPath="$PROJECT_DIR$/src/main/java/bts/sio/projet/Tools/Services/ServiceUsers.java" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/src/main/resources/bts/sio/projet/menu-view.fxml" beforeDir="false" afterPath="$PROJECT_DIR$/src/main/resources/bts/sio/projet/menu-view.fxml" afterDir="false" />
     </list>
     <option name="SHOW_DIALOG" value="false" />
     <option name="HIGHLIGHT_CONFLICTS" value="true" />
